### 큐와 스택, 데크

------

#### 1. 도입

현실 세계의 규칙을 추상화하는 추상화 자료 구조의 대표적인 예가 큐,스택, 데크이다. 이들을 자료를 표현하는 자료구조로, 여기에 자료를 넣고 꺼내는 연산을 지원한다. 이를 사용함으로 알고리즘을 더욱 편하고 쉽게 간결하게 표현 할 수 있다.

**큐**(queue): 한쪽 끝에서 자료를 넣고 반대 쪽 끝에서 자료를 꺼낼 수 있다. 선입선출(FIFO,first in first out)이라는 성질을 하기고 있다.

**스택(stack)**: 한쪽 끝에서만 자료를 넣고 뺄 수 있다. 따라서 가장 늦게 들어간 자료를 가장 먼저 꺼내게 되어, 이 성질을(LIFO,last in first out)이라고 부른다.

**데크(deque)**: 양쪽 끝에서 자료들을 넣고 뺄 수 있는 자료 구조를 말한다. 따라서 큐와 스택 모두를 사용할수 있다.

#### 2. 문제

**문제: 울타리자르기(히스토그램)**

이 문제는 앞에서 분할 정복에서 다룬 문제인데 stack을 이용해서도 풀수 있다. 스택에다가 가로의 index번호를 넣는데 이때, 넣을려고 하는 울타리의 높이가 스택에 들어 있는 높이보다 작을 때 현재 스택을 되짚어가면서 울타리의 크기를 구한다. 그리고 넣을려고 하는 높이보다 낮아졌을때 멈추고 다음 울타리의 index를 넣는다.

```c++
int n;	
for (int i = 1; i <= n; i++)cin >> arr[i];
st.push(0);
for (int i = 1; i <= n+1; i++) {
	while (!st.empty() && arr[st.top()] > arr[i]) {
		int t = st.top();
		st.pop();
		ans = max(ans, arr[t] * (i - st.top() - 1));
	}
	st.push(i);
}
```

**문제: 짝이 맞지 않은 괄호(BRACKETS2)**

이 문제는 간단하게 '(,{,['이면 스택에 넣고 '),],}'이면 스택의 top을 호출해서 이것과 알맞게 대응이 되는지 판별했을때 대응이 되면 지우고 안되면 거짓이 된다. 이 문제에서 거짓이 되는 조건은 3가지 정도가 있다.

1. 괄호가 서로 대응이 안될때, 즉 ({)} 처럼 괄호가 섞여서 대응이 되지 않을때이다.
2. 스택이 비었는데 ')}]'이 들어올때, 이는 열리지도 않았는데 닫는다는 것은 말이 안된다.
3. 다 끝나고 마지막에 스택이 비어있지 않을때. 이는 전부 대응이 되지 않았으므로 거짓이다.